# AWS Batch Resources<a name="batch-resources-1"></a>

In the Polly\-batch\-processor application, AWS Batch synthesizes text chunks into speech using Amazon Polly\. To do this, Polly\-batch\-processor creates the following AWS Batch resources as custom AWS CloudFormation resources:

+  **The AWS Batch compute environment:** The AWS Batch compute environment manages the EC2 instances used to run the containerized batch jobs\. It is mapped to an AWS Batch job queue\. The AWS Batch scheduler takes jobs from the queue and schedules them to run on an EC2 host in the compute environment\. After all of the jobs in the queue are successfully processed, AWS Batch automatically terminates the EC2 resources in your compute environment when they reach the end of the billing hour\. To reduce costs, you can use Spot Instances for your EC2 resources\. For more information, see [Compute Environment](http://docs.aws.amazon.com/batch/latest/userguide/compute_environments.html)\.

+  **The AWS Batch job definition:** The AWS Batch job definition specifies how the batch jobs should be run\. In Polly\-batch\-processor, each job requires 16 vCPUs and 2048 MiB of memory\. That's because each chunk is processed by a single vCPU in parallel\. To prevent launching unnecessary EC2 instances in advance, we set the number of desired vCPUs to 16\. To avoid having idle EC2 resources running in the compute environment when no jobs are in the queue, we configure the minimum vCPU to be 0\. We also provide a security group for each EC2 instance and an IAM instance profile\. For more information, see [Job Definition](http://docs.aws.amazon.com/batch/latest/userguide/job_definitions.html) in the *AWS Batch Developer's Guide*\.

+  **The AWS Batch job queue:** AWS Batch jobs are submitted to an AWS Batch job queue, where they remain until they can be scheduled to run on a compute resource\. For each compute environment, you can have multiple job queues with different priorities\. By default, there is only one job queue, so priority is not an issue\. For more information, see [Job Queue](http://docs.aws.amazon.com/batch/latest/userguide/job_queues.html)\.